(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9990)}])},9990:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return F}});var n=t(4051),o=t.n(n),a=t(5893),u=t(6574),c=t(1889),s=t(4842),l=t(5152),f=t.n(l),m=u.Z.TabPane,_=f()(Promise.all([t.e(281),t.e(275),t.e(286)]).then(t.bind(t,2286)),{loadableGenerated:{webpack:function(){return[2286]}},ssr:!1});var d=function(e){var r=e.disabled,t=e.sourceCode,n=e.setSourceCode,o=e.activeTab,i=e.handleUserTabChange,l=e.myHeight,f=(0,a.jsxs)(c.Z,{disabled:r,onClick:function(){return i(o)},children:[(0,a.jsx)(s.Z,{})," Run"]});return(0,a.jsx)("div",{className:"card-container",style:{height:"100%"},children:(0,a.jsx)(u.Z,{tabBarExtraContent:f,style:{height:"100%"},children:(0,a.jsx)(m,{tab:"main.f90",style:{height:l},children:(0,a.jsx)(_,{sourceCode:t,setSourceCode:n})},"1")})})},p=t(7294),h=t(5439);var x=function(e){var r=e.activeTab,t=e.output,n=e.handleUserTabChange,o=e.myHeight;return(0,a.jsxs)("div",{className:"card-container",children:[(0,a.jsx)(h.Z,{block:!0,style:{margin:"6px 0px 22px 0px"},options:["STDOUT","AST","ASR","WAT","CPP","PY"],value:r,onChange:function(e){return n(e)}}),(0,a.jsx)("pre",{style:{margin:"0px",height:o,overflow:"scroll",border:"1px solid black"},children:(0,a.jsx)("div",{id:"outputBox",style:{minHeight:"100%",fontSize:"0.9em",padding:"10px"},dangerouslySetInnerHTML:{__html:t}})})]})},y=t(4298),b=t.n(y);function g(e,r,t,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,o)}function v(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){g(i,n,o,a,u,"next",e)}function u(e){g(i,n,o,a,u,"throw",e)}a(void 0)}))}}function w(){return new Promise((function(e,r){Module.onRuntimeInitialized=function(){e({emit_ast_from_source:Module.cwrap("emit_ast_from_source","string",["string"]),emit_asr_from_source:Module.cwrap("emit_asr_from_source","string",["string"]),emit_wat_from_source:Module.cwrap("emit_wat_from_source","string",["string"]),emit_cpp_from_source:Module.cwrap("emit_cpp_from_source","string",["string"]),emit_py_from_source:Module.cwrap("emit_wat_from_source","string",["string"]),emit_wasm_from_source:Module.cwrap("emit_wasm_from_source","string",["string"])})}}))}function T(e,r,t,n){var o=function(e){return r.push(e.toString())};return{js:{memory:e,print_i32:o,print_i64:o,print_f32:o,print_f64:o,print_str:function(t,n){return r.push(new TextDecoder("utf8").decode(new Uint8Array(e.buffer,t,n)))},flush_buf:function(){n(r.join(" ")+"\n"),r.length=0},set_exit_code:function(e){return t.val=e}}}}function R(e,r){return S.apply(this,arguments)}function S(){return(S=v(o().mark((function e(r,t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,WebAssembly.instantiate(r,t);case 3:n=e.sent,(0,n.instance.exports._lcompilers_main)(),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:return e.abrupt("return","Success");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function j(e,r){return k.apply(this,arguments)}function k(){return k=v(o().mark((function e(r,t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:n=e.sent,r.emit_ast_from_source=function(e){try{return n.emit_ast_from_source(e)}catch(r){return console.log(r),t(r+"\nERROR: AST could not be generated from the code"),0}},r.emit_asr_from_source=function(e){try{return n.emit_asr_from_source(e)}catch(r){return console.log(r),t(r+"\nERROR: ASR could not be generated from the code"),0}},r.emit_wat_from_source=function(e){try{return n.emit_wat_from_source(e)}catch(r){return console.log(r),t(r+"\nERROR: WAT could not be generated from the code"),0}},r.emit_cpp_from_source=function(e){try{return n.emit_cpp_from_source(e)}catch(r){return console.log(r),t(r+"\nERROR: CPP could not be generated from the code"),0}},r.emit_py_from_source=function(e){try{return n.emit_py_from_source(e)}catch(r){return console.log(r),t(r+"\nERROR: LLVM could not be generated from the code"),0}},r.compile_code=function(e){try{return n.emit_wasm_from_source(e)}catch(r){return console.log(r),t(r+"\nERROR: The code could not be compiled. Either there is a compile-time error or there is an issue at our end."),0}},r.execute_code=function(){var e=v(o().mark((function e(r,n){var i,a,u,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={val:1},a=[],u=new WebAssembly.Memory({initial:100,maximum:100}),c=T(u,a,i,n),e.next=6,R(r,c);case 6:if(s=e.sent,0!=i.val){e.next=9;break}return e.abrupt("return",1);case 9:return console.log(s),t(s+"\nERROR: The code could not be executed. Either there is a runtime error or there is an issue at our end."),e.abrupt("return",0);case 12:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();case 10:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}var C=function(e){var r=e.moduleReady,t=e.setModuleReady,n=e.lfortran_funcs,i=e.openNotification,u=e.myPrint,c=e.handleUserTabChange,s=(0,p.useCallback)(v(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(n,u);case 2:t(!0),i("LFortran Module Initialized!","bottomRight"),console.log("LFortran Module Initialized!"),c("STDOUT");case 6:case"end":return e.stop()}}),e)}))),[r]);return(0,a.jsx)("div",{children:(0,a.jsx)(b(),{src:"".concat("","/lfortran.js"),onLoad:s})})},A=t(6348),P=t(6226),E=t(1382),M=t(9614),O=t(888),U=t(4431);function Z(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function N(e,r,t,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,o)}function I(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){N(i,n,o,a,u,"next",e)}function u(e){N(i,n,o,a,u,"throw",e)}a(void 0)}))}}function H(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return Z(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z(e,r)}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=new(t.n(U)()),z=(0,a.jsx)(O.Z,{style:{fontSize:24},spin:!0}),D=function(e,r){M.Z.info({message:e,placement:r})},W={emit_ast_from_source:null,emit_asr_from_source:null,emit_wat_from_source:null,emit_wasm_from_source:null,emit_cpp_from_source:null,emit_py_from_source:null,compile_code:null,execute_code:null};function F(){var e=(0,p.useState)(!1),r=e[0],t=e[1],n=(0,p.useState)("program expr2\n    implicit none\n\n    integer :: x\n\n    x = (2+3)*5\n    print *, x\n\nend program"),i=n[0],u=n[1],c=(0,p.useState)("STDOUT"),s=c[0],l=c[1],f=(0,p.useState)(""),m=f[0],_=f[1],h=(0,p.useState)("calc(100vh - 170px)"),y=h[0];h[1];function b(e){return g.apply(this,arguments)}function g(){return(g=I(o().mark((function e(r){var t,n,a,u,c,s,f,m,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("STDOUT"!=r){e.next=19;break}if(""!==i.trim()){e.next=5;break}return _("No Source Code to compile"),l(r),e.abrupt("return");case 5:if(!(t=W.compile_code(i))){e.next=17;break}if(n=H(t.split(",")),a=n[0],u=n.slice(1),"0"===a){e.next=12;break}_(L.ansi_to_html(u)),e.next=17;break;case 12:return c=[],e.next=15,W.execute_code(new Uint8Array(u),(function(e){return c.push(e)}));case 15:e.sent&&_(c.join(""));case 17:e.next=20;break;case 19:"AST"==r?(s=W.emit_ast_from_source(i))&&_(L.ansi_to_html(s)):"ASR"==r?(f=W.emit_asr_from_source(i))&&_(L.ansi_to_html(f)):"WAT"==r?(m=W.emit_wat_from_source(i))&&_(L.ansi_to_html(m)):"CPP"==r?(d=W.emit_cpp_from_source(i))&&_(L.ansi_to_html(d)):"PY"==r?_("Support for PY is not yet enabled"):(console.log("Unknown key:",r),_("Unknown key: "+r));case 20:l(r);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{moduleReady:r,setModuleReady:t,lfortran_funcs:W,openNotification:D,myPrint:_,handleUserTabChange:b}),(0,a.jsxs)(A.Z,{gutter:[16,16],children:[(0,a.jsx)(P.Z,{xs:{span:24},sm:{span:24},md:{span:12},children:(0,a.jsx)(d,{disabled:!r,sourceCode:i,setSourceCode:u,activeTab:s,handleUserTabChange:b,myHeight:y})}),(0,a.jsx)(P.Z,{xs:{span:24},sm:{span:24},md:{span:12},children:r?(0,a.jsx)(x,{activeTab:s,output:m,handleUserTabChange:b,myHeight:y}):(0,a.jsx)(E.Z,{style:{position:"relative",top:"50%",left:"50%"},indicator:z})})]})]})}}},function(e){e.O(0,[982,774,888,179],(function(){return r=5557,e(e.s=r);var r}));var r=e.O();_N_E=r}]);